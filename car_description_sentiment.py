import openai
from langchain.prompts import PromptTemplate
from langchain_community.chat_models.openai import ChatOpenAI
prompt_template = (
    "Analyze the following description of a used car to determine the sentiment expressed. Sentiment analysis involves evaluating the emotional tone behind words to understand attitudes and emotions. You will analyze this text: {description}. Identify if the sentiment is positive, negative, or neutral, highlighting specific emotions like satisfaction or disappointment. Provide a summary of your findings, indicating the overall tone and specific emotional expressions."
)
api_key = "YOUR_API_KEY"

prompt = PromptTemplate(template=prompt_template, input_variables=["description"])

openai_chatbot = ChatOpenAI(model_name="gpt-3.5-turbo", temperature=0.8, api_key=api_key)

sentence = "2016 *BMW* *5 Series* 535i xDrive Sedan - $25,990Call or Text Us Today! 205-612-0040BMW_ 5 Series_ For Sale by World Class MotorsFor Financing - step 1 is to complete our short online application @ WorldClassApproval.com     Vehicle Description For This *BMW* *5 Series*Loaded 2016 BMW 535i xDrive AWD! Clean Carfax. Meticulously maintained & sharp! LOTS of features including navigation, backup camera, cold weather package, driving assistance package, driving assistance plus, premium package, heads-up display, premium audio, Sirius XM satellite radio, Bluetooth, music interphase & more. Serviced, inspected & comes with warranty. We finance. Low competitive rates! Call or text 205-612-0040 for more info. Apply now @ WorldClassApproval.com. Trades welcome. Shipping available. 1920 Decatur Hwy, Gardendale, AL.View additional pictures and details This BMW_ 5 Series_ at: http://www.worldclassmotors.com/details-2016-bmw-5_series-535i_xdrive-used-wba5b3c58gg255986.html?utm_source=craigslist&utm_medium=referral&utm_campaign=ebizautos_craigslist  Vehicle Details For This *BMW* *5 Series*       Year: 2016     Make: BMW     Model: 5 Series     Trim: 535i xDrive     VIN: WBA5B3C58GG255986     Stock#: 284008     Condition: Used Clear Title               Miles: 75,123          Exterior Color: Black Sapphire Metallic     Interior Color: Black     Engine: 3.0L STRAIGHT 6 CYLINDER     Transmission: 8 Spd Automatic     Drivetrain: All Wheel Drive     BMW        Installed Options & Packages For This *BMW* *5 Series*                      BLACK SAPPHIRE METALLIC 475                                                POWER FRONT SEATS 459                                       -  driver seat memory (STD)                              BLACK, DAKOTA LEATHER UPHOLSTERY LCSW                                                COLD WEATHER PACKAGE ZCW                                       -  Heated Front Seats                      Heated Rear Seats                      Heated Steering Wheel                      Retractable Headlight Washers                              DRIVER ASSISTANCE PACKAGE ZDA                                       -  Rear View Camera                      Head-Up Display                      Park Distance Control                      Instrument Cluster w/Extended Contents                              DRIVER ASSISTANCE PLUS ZDB                                       -  Speed Limit Info                      Active Driving Assistant                      lane departure warning                      forward collision warning                      pedestrian warning and city collision mitigation                      Active Blind Spot Detection                      Side & Top View Cameras                              PREMIUM PACKAGE ZPP                                       -  Power Tailgate                      Satellite Radio                      1 year subscription                      Comfort Access Keyless Entry                              DARK WOOD TRIM 4BN                                                REAR VIEW CAMERA 3AG                                               BMW   About Us      World Class Motors 1920 Decatur Highway  Gardendale, AL 35071  Call or Text NOW to Reserve this BMW_ 5 Series_! 205-612-0040   *BMW* *5 Series* *535i xDrive* *BMW* *5 Series* *535i xDrive* *For Sale* *Clean* *Black Sapphire Metallic* *BMW* *5 Series* *535i xDrive* *Cheap* *Like New* *All Wheel Drive* *3.0L STRAIGHT 6 CYLINDER* *Used* *BMW* *5 Series* *535i xDrive* *BMW* *5 Series* *535i xDrive* *BMW* *5 Series* *535i xDrive*"
messages = prompt.format_messages(sentence=sentence)
response = openai_chatbot(messages=messages)